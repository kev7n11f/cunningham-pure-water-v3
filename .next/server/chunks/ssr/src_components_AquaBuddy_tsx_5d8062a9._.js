module.exports=[96904,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(86723),f=a.i(74290),g=a.i(1703),h=a.i(14800),i=a.i(91128),j=c,k=a.i(65802);function l(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class m extends j.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,i.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,j.useId)(),h=(0,j.useRef)(null),i=(0,j.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,j.useContext)(k.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=l(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():l(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,j.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:j,right:k}=i.current;if(d||!h.current||!a||!b)return;let l="left"===e?`left: ${j}`:`right: ${k}`;h.current.dataset.motionPopId=g;let m=document.createElement("style");n&&(m.nonce=n);let o=f??document.head;return o.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${l}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(m)&&o.removeChild(m)}},[d]),(0,b.jsx)(m,{isPresent:d,childRef:h,sizeRef:i,children:j.cloneElement(a,{ref:o})})}let o=({children:a,initial:d,isPresent:e,onExitComplete:g,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:m})=>{let o=(0,f.useConstant)(p),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:e,custom:i,onExitComplete:a=>{for(let b of(o.set(a,!0),o.values()))if(!b)return;g&&g()},register:a=>(o.set(a,!1),()=>o.delete(a))}),[e,o,g]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{o.forEach((a,b)=>o.set(b,!1))},[e]),c.useEffect(()=>{e||o.size||!g||g()},[e]),"popLayout"===k&&(a=(0,b.jsx)(n,{isPresent:e,anchorX:l,root:m,children:a})),(0,b.jsx)(h.PresenceContext.Provider,{value:s,children:a})};function p(){return new Map}var q=a.i(20410);let r=a=>a.key||"";function s(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let t=({children:a,custom:d,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:n})=>{let[p,t]=(0,q.usePresence)(l),u=(0,c.useMemo)(()=>s(a),[a]),v=l&&!p?[]:u.map(r),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,f.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,g.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=r(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=r(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(s(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(e.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=r(a),e=(!l||!!p)&&(u===B||v.includes(c));return(0,b.jsx)(o,{isPresent:e,initial:(!w.current||!!h)&&void 0,custom:d,presenceAffectsLayout:j,mode:k,root:n,onExitComplete:e?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};var u=a.i(702),v=a.i(57839),w=a.i(98241);function x(a,b){[...b].reverse().forEach(c=>{let d=a.getVariant(c);d&&(0,v.setTarget)(a,d),a.variantChildren&&a.variantChildren.forEach(a=>{x(a,b)})})}function y(){let a=!1,b=new Set,c={subscribe:a=>(b.add(a),()=>void b.delete(a)),start(c,d){(0,u.invariant)(a,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let e=[];return b.forEach(a=>{e.push((0,w.animateVisualElement)(a,c,{transitionOverride:d}))}),Promise.all(e)},set:c=>((0,u.invariant)(a,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),b.forEach(a=>{var b,d;b=a,Array.isArray(d=c)?x(b,d):"string"==typeof d?x(b,[d]):(0,v.setTarget)(b,d)})),stop(){b.forEach(a=>{a.values.forEach(a=>a.stop())})},mount:()=>(a=!0,()=>{a=!1,c.stop()})};return c}let z=function(){let a=(0,f.useConstant)(y);return(0,g.useIsomorphicLayoutEffect)(a.mount,[]),a};var A=a.i(70106);let B=(0,A.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),C=(0,A.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D=(0,A.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),E=({isOpen:a,isTalking:e,onClick:f,mood:g="happy"})=>{let h=z(),i=z(),j=z(),k=z(),l=z();return(0,c.useEffect)(()=>{(async()=>{for(;;)await h.start({y:[0,-15,0,-10,0],rotate:[0,-5,5,-3,0],scale:[1,1.05,.95,1.02,1],transition:{duration:2,ease:"easeInOut"}}),i.start({rotate:[0,-30,0,-20,0],transition:{duration:1.5,ease:"easeInOut"}}),j.start({rotate:[0,30,0,20,0],transition:{duration:1.5,ease:"easeInOut",delay:.2}}),k.start({rotate:[0,-15,0,-10,0],transition:{duration:1.2,ease:"easeInOut"}}),l.start({rotate:[0,15,0,10,0],transition:{duration:1.2,ease:"easeInOut",delay:.15}}),await new Promise(a=>setTimeout(a,1500))})()},[h,i,j,k,l]),(0,c.useEffect)(()=>{e&&h.start({scale:[1,1.08,1,1.05,1],transition:{duration:.4,repeat:1/0}})},[e,h]),(0,b.jsxs)(d.motion.div,{className:"cursor-pointer select-none",onClick:f,whileHover:{scale:1.1},whileTap:{scale:.95},style:{width:160,height:200},children:[(0,b.jsxs)("svg",{viewBox:"0 0 160 200",width:"160",height:"200",children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("radialGradient",{id:"dropGlow",cx:"50%",cy:"30%",r:"70%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"#E8F4FC",stopOpacity:"1"}),(0,b.jsx)("stop",{offset:"40%",stopColor:"#A8D4F0",stopOpacity:"0.9"}),(0,b.jsx)("stop",{offset:"70%",stopColor:"#4A9ED0",stopOpacity:"0.8"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"#1A6EA0",stopOpacity:"0.7"})]}),(0,b.jsxs)("radialGradient",{id:"shine",cx:"30%",cy:"20%",r:"50%",children:[(0,b.jsx)("stop",{offset:"0%",stopColor:"white",stopOpacity:"0.8"}),(0,b.jsx)("stop",{offset:"100%",stopColor:"white",stopOpacity:"0"})]}),(0,b.jsxs)("filter",{id:"glow",children:[(0,b.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,b.jsxs)("feMerge",{children:[(0,b.jsx)("feMergeNode",{in:"coloredBlur"}),(0,b.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,b.jsx)("filter",{id:"shadow",children:(0,b.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodColor:"#1A6EA0",floodOpacity:"0.4"})})]}),(0,b.jsxs)(d.motion.g,{animate:k,style:{originX:"55px",originY:"140px"},children:[(0,b.jsx)("ellipse",{cx:"55",cy:"175",rx:"12",ry:"20",fill:"#4A9ED0",filter:"url(#shadow)"}),(0,b.jsx)("ellipse",{cx:"55",cy:"190",rx:"15",ry:"8",fill:"#3A8EC0"})]}),(0,b.jsxs)(d.motion.g,{animate:l,style:{originX:"105px",originY:"140px"},children:[(0,b.jsx)("ellipse",{cx:"105",cy:"175",rx:"12",ry:"20",fill:"#4A9ED0",filter:"url(#shadow)"}),(0,b.jsx)("ellipse",{cx:"105",cy:"190",rx:"15",ry:"8",fill:"#3A8EC0"})]}),(0,b.jsxs)(d.motion.g,{animate:h,filter:"url(#shadow)",children:[(0,b.jsx)("path",{d:"M80 10    C80 10 130 60 130 95    C130 130 110 145 80 145    C50 145 30 130 30 95    C30 60 80 10 80 10",fill:"url(#dropGlow)",filter:"url(#glow)"}),(0,b.jsx)("ellipse",{cx:"55",cy:"60",rx:"20",ry:"25",fill:"url(#shine)"}),(0,b.jsxs)(d.motion.g,{animate:"excited"===g?{scale:[1,1.2,1]}:{},transition:{duration:.5,repeat:"excited"===g?1/0:0},children:[(0,b.jsx)("ellipse",{cx:"60",cy:"80",rx:"10",ry:"12",fill:"white"}),(0,b.jsx)(d.motion.ellipse,{cx:"62",cy:"82",rx:"5",ry:"6",fill:"#1A3A5F",animate:{cy:[82,80,82]},transition:{duration:2,repeat:1/0}}),(0,b.jsx)("circle",{cx:"64",cy:"78",r:"2",fill:"white"})]}),(0,b.jsxs)(d.motion.g,{animate:"excited"===g?{scale:[1,1.2,1]}:{},transition:{duration:.5,repeat:"excited"===g?1/0:0,delay:.1},children:[(0,b.jsx)("ellipse",{cx:"100",cy:"80",rx:"10",ry:"12",fill:"white"}),(0,b.jsx)(d.motion.ellipse,{cx:"102",cy:"82",rx:"5",ry:"6",fill:"#1A3A5F",animate:{cy:[82,80,82]},transition:{duration:2,repeat:1/0,delay:.1}}),(0,b.jsx)("circle",{cx:"104",cy:"78",r:"2",fill:"white"})]}),(0,b.jsx)("ellipse",{cx:"48",cy:"95",rx:"8",ry:"5",fill:"#FF9999",opacity:"0.4"}),(0,b.jsx)("ellipse",{cx:"112",cy:"95",rx:"8",ry:"5",fill:"#FF9999",opacity:"0.4"}),(0,b.jsx)(d.motion.path,{d:e?"M65 105 Q80 120 95 105":"M65 105 Q80 115 95 105",stroke:"#1A3A5F",strokeWidth:"3",strokeLinecap:"round",fill:"none",animate:e?{d:["M65 105 Q80 120 95 105","M65 105 Q80 108 95 105","M65 105 Q80 120 95 105"]}:{},transition:{duration:.3,repeat:e?1/0:0}}),"thinking"===g&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("path",{d:"M52 68 L68 72",stroke:"#1A3A5F",strokeWidth:"2",strokeLinecap:"round"}),(0,b.jsx)("path",{d:"M92 72 L108 68",stroke:"#1A3A5F",strokeWidth:"2",strokeLinecap:"round"})]})]}),(0,b.jsxs)(d.motion.g,{animate:i,style:{originX:"35px",originY:"95px"},children:[(0,b.jsx)("ellipse",{cx:"20",cy:"95",rx:"18",ry:"12",fill:"#4A9ED0",filter:"url(#shadow)"}),(0,b.jsx)("ellipse",{cx:"8",cy:"95",rx:"10",ry:"8",fill:"#5AAEE0"})]}),(0,b.jsxs)(d.motion.g,{animate:j,style:{originX:"125px",originY:"95px"},children:[(0,b.jsx)("ellipse",{cx:"140",cy:"95",rx:"18",ry:"12",fill:"#4A9ED0",filter:"url(#shadow)"}),(0,b.jsx)("ellipse",{cx:"152",cy:"95",rx:"10",ry:"8",fill:"#5AAEE0"})]}),(0,b.jsx)(d.motion.g,{animate:{opacity:[.4,1,.4],scale:[.8,1.2,.8]},transition:{duration:2,repeat:1/0},children:(0,b.jsx)("path",{d:"M25 30 L28 35 L33 35 L29 38 L31 43 L25 40 L19 43 L21 38 L17 35 L22 35 Z",fill:"#A8D4F0"})}),(0,b.jsx)(d.motion.g,{animate:{opacity:[.4,1,.4],scale:[.8,1.2,.8]},transition:{duration:2,repeat:1/0,delay:.5},children:(0,b.jsx)("path",{d:"M135 45 L137 48 L140 48 L138 50 L139 53 L135 51 L131 53 L132 50 L130 48 L133 48 Z",fill:"#A8D4F0"})}),(0,b.jsx)(d.motion.g,{animate:{opacity:[.4,1,.4],scale:[.8,1.2,.8]},transition:{duration:2,repeat:1/0,delay:1},children:(0,b.jsx)("path",{d:"M140 120 L142 123 L145 123 L143 125 L144 128 L140 126 L136 128 L137 125 L135 123 L138 123 Z",fill:"#A8D4F0"})})]}),!a&&(0,b.jsx)(d.motion.div,{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 whitespace-nowrap",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,b.jsxs)("div",{className:"bg-gradient-to-r from-[#7B2D3D] to-[#9B3D4D] text-white text-sm font-bold px-4 py-2 rounded-full shadow-lg flex items-center gap-2",children:[(0,b.jsx)(D,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Chat with AquaBuddy!"})]})})]})},F=({message:a,isUser:c})=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},className:`flex ${c?"justify-end":"justify-start"} mb-4`,children:(0,b.jsx)("div",{className:`max-w-[85%] p-4 rounded-2xl ${c?"bg-gradient-to-r from-[#4A9ED0] to-[#1A6EA0] text-white rounded-br-md":"bg-white/10 backdrop-blur-sm text-white border border-white/20 rounded-bl-md"}`,children:(0,b.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:a.content})})}),G=()=>(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start mb-4",children:(0,b.jsx)("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 px-4 py-3 rounded-2xl rounded-bl-md",children:(0,b.jsx)("div",{className:"flex gap-1",children:[0,1,2].map(a=>(0,b.jsx)(d.motion.div,{className:"w-2 h-2 bg-[#4A9ED0] rounded-full",animate:{y:[0,-8,0]},transition:{duration:.6,repeat:1/0,delay:.15*a}},a))})})});function H(){let[a,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),n=(0,c.useRef)(null),o=(0,c.useRef)(null);(0,c.useEffect)(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[f]),(0,c.useEffect)(()=>{a&&o.current&&o.current.focus()},[a]),(0,c.useEffect)(()=>{a&&!l&&0===f.length&&(m(!0),g([{role:"assistant",content:"Hey there! ðŸ’§ I'm AquaBuddy, your friendly water expert! I'm here to help you discover the amazing benefits of pure, filtered water for your workplace. Whether you're curious about our Wellsys water coolers, ice machines, or want to know why reverse osmosis water is the best choice for your team - just ask! And guess what? We offer FREE trial demo installations so you can taste the difference yourself! What would you like to know?"}]))},[a,l,f.length]);let p=(0,c.useCallback)(async()=>{if(!h.trim()||j)return;let a={role:"user",content:h.trim()};g(b=>[...b,a]),i(""),k(!0);try{let b=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...f,a]})}),c=await b.json();c.message&&g(a=>[...a,{role:"assistant",content:c.message}])}catch(a){console.error("Failed to send message:",a),g(a=>[...a,{role:"assistant",content:"Oops! Looks like I hit a little splash there! ðŸ’¦ Could you try again? Or feel free to call us at (318) 727-PURE - we'd love to help!"}])}finally{k(!1)}},[h,j,f]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.motion.div,{className:"fixed z-50",initial:{x:100,opacity:0},animate:{x:0,opacity:1,right:a?"420px":"20px",bottom:"20px"},transition:{type:"spring",stiffness:100,damping:15},style:{right:20,bottom:20},children:(0,b.jsx)(E,{isOpen:a,isTalking:j,onClick:()=>e(!a),mood:j?"thinking":"happy"})}),(0,b.jsx)(t,{children:a&&(0,b.jsx)(d.motion.div,{className:"fixed right-4 bottom-4 z-50 w-[400px] h-[600px] flex flex-col",initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",stiffness:200,damping:20},children:(0,b.jsxs)("div",{className:"flex-1 flex flex-col bg-gradient-to-b from-[#0A1628]/95 to-[#1A3A5F]/95 backdrop-blur-xl rounded-3xl border border-[#4A9ED0]/30 shadow-2xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-gradient-to-r from-[#4A9ED0]/20 to-[#1A6EA0]/20",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#4A9ED0] to-[#1A6EA0] flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-lg",children:"ðŸ’§"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-white font-bold",children:"AquaBuddy"}),(0,b.jsx)("p",{className:"text-xs text-[#4A9ED0]",children:"Your Water Expert"})]})]}),(0,b.jsx)("button",{onClick:()=>e(!1),className:"w-8 h-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:(0,b.jsx)(C,{className:"w-4 h-4 text-white"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[f.map((a,c)=>(0,b.jsx)(F,{message:a,isUser:"user"===a.role},c)),j&&(0,b.jsx)(G,{}),(0,b.jsx)("div",{ref:n})]}),f.length<=1&&(0,b.jsxs)("div",{className:"px-4 pb-2",children:[(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Quick questions:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["Tell me about the water coolers","What are the benefits of RO water?","How does the free trial work?","Why go bottleless?"].map((a,c)=>(0,b.jsx)(d.motion.button,{className:"text-xs bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 rounded-full border border-white/20 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{i(a),setTimeout(()=>p(),100)},children:a},c))})]}),(0,b.jsx)("div",{className:"p-4 border-t border-white/10",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{ref:o,type:"text",value:h,onChange:a=>i(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),p())},placeholder:"Ask about pure water...",className:"flex-1 bg-white/10 border border-white/20 rounded-full px-4 py-3 text-white text-sm placeholder:text-gray-400 focus:outline-none focus:border-[#4A9ED0] transition-colors"}),(0,b.jsx)(d.motion.button,{onClick:p,disabled:!h.trim()||j,className:"w-12 h-12 rounded-full bg-gradient-to-r from-[#4A9ED0] to-[#1A6EA0] flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,b.jsx)(B,{className:"w-5 h-5 text-white"})})]})})]})})})]})}a.s(["default",()=>H],96904)}];

//# sourceMappingURL=src_components_AquaBuddy_tsx_5d8062a9._.js.map